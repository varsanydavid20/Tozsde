<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VPI Exchange</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- Login Modal -->
<div id="loginModal" class="login-modal">
    <div class="login-container">
        <h2>VPI Exchange</h2>
        <p>KÃ©rlek add meg a nevedet</p>
        <input id="nameInput" type="text" placeholder="Neved" maxlength="50" />
        <button id="loginBtn">BejelentkezÃ©s</button>
    </div>
</div>

<!-- Admin Panel Toggle -->
<div id="adminToggle" class="admin-toggle">
    <button id="adminBtn" title="Admin panel">ðŸ‘¤</button>
</div>

<!-- Admin Panel -->
<div id="adminPanel" class="admin-panel">
    <div class="admin-header">
        <h3>Admin Panel</h3>
        <button id="closeAdminBtn" class="close-btn">âœ•</button>
    </div>
    <div class="admin-content">
        <div class="admin-section">
            <h4>BejelentkezÃ©sek</h4>
            <div id="loginsList" class="logins-list"></div>
        </div>
        <div class="admin-section">
            <button id="clearLoginsBtn" class="mini-btn">BejelentkezÃ©sek tÃ¶rlÃ©se</button>
        </div>
    </div>
</div>

<div class="app">
    <div class="grid">
        <main class="main">
            <div class="top">
                <div>
                    <h1>VPI</h1>
                    <div class="price" id="price">$0.0000</div>
                </div>

                <div style="text-align: right;">
                    <div class="current-user" id="currentUser"></div>
                    <div class="change" id="change">
                        <div class="change-inner">
                            <span id="arrow">â–²</span>
                            <span id="percent">0.00%</span>
                        </div>
                        <div class="small">/s</div>
                    </div>
                </div>
            </div>

            <div class="chart">
                <canvas id="chart"></canvas>
            </div>

            <!-- Trade box placed within main (also duplicated as fixed on screen via CSS) -->
            <div class="trade-box" id="tradeBox">
                <div class="trade-header">Buy / Sell</div>
                <div class="balance">USD: <span id="usdBalance">$1,000.00</span> Â· VPI: <span id="vpiBalance">0.0000</span></div>
                <div class="trade-row">
                    <input id="tradeAmount" type="number" min="0" step="0.0001" placeholder="Amount (VPI)" inputmode="decimal" aria-label="VÃ¡sÃ¡rolni vagy eladni kÃ­vÃ¡nt VPI mennyisÃ©g" />
                    <select id="tradeSide" aria-label="VÃ¡lassz: buy vagy sell"><option value="buy">Buy</option><option value="sell">Sell</option></select>
                </div>
                <div class="trade-row small">
                    <button class="mini-btn" id="buyMaxBtn">Buy max</button>
                    <button class="mini-btn" id="sellMaxBtn">Sell max</button>
                    <div class="fee">Fee: <span id="feePercent">0.20%</span></div>
                </div>
                <div class="trade-actions">
                    <button id="tradeBtn" aria-label="VÃ©grehajtÃ¡s">Execute</button>
                </div>
                <div class="trade-msg" id="tradeMsg"></div>
            </div>
        </main>

        <aside class="sidebar">

            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div class="label">Volume</div>
                    <select id="volumePeriod" style="padding: 4px 8px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.04); background: rgba(0,0,0,0.2); color: inherit; font-size: 12px; cursor: pointer;">
                        <option value="week">Week</option>
                        <option value="day" selected>Day</option>
                        <option value="minute">Minute</option>
                        <option value="second">Second</option>
                    </select>
                </div>
                <div id="volume" class="value" style="margin-top: 8px;">$15.29M</div>
            </div>

            <div class="card">
                <div class="label">FDV</div>
                <div id="fdv" class="value">$15.64B</div>
            </div>

            <div class="card">
                <div class="label">Recent trades</div>
                <div id="tradeHistory" class="trade-history"></div>
            </div>

            <div class="card">
                <div class="label">Auto orders (set & forget)</div>
                <div class="auto-form">
                    <select id="autoSide"><option value="buy">Buy</option><option value="sell">Sell</option></select>
                    <input id="autoPrice" type="number" step="0.0001" placeholder="Target price" />
                    <input id="autoAmount" type="number" step="0.0001" placeholder="Amount (VPI)" />
                    <label class="auto-repeat"><input id="autoRepeat" type="checkbox" /> Repeat</label>
                    <button id="addAutoBtn" class="mini-btn">Add</button>
                </div>
                <div id="autoList" class="auto-list">â€”</div>
            </div>
        </aside>
    </div>
</div>

<script src="client.js"></script>
</body>
</html>
